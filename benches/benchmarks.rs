use criterion::{criterion_group, criterion_main, Criterion};
use shamir_secret_sharing::{combine_inlined, create_inlined};
const SECRET_512_BYTES: &[u8; 512] = &[
    1, 2, 34, 56, 255, 74, 123, 123, 77, 44, 0, 1, 23, 78, 92, 123, 124, 178, 77, 190, 234, 241, 2,
    65, 55, 69, 92, 112, 199, 99, 21, 8, 1, 2, 34, 56, 255, 74, 123, 123, 77, 44, 0, 1, 23, 78, 92,
    123, 124, 178, 77, 190, 234, 241, 2, 65, 55, 69, 92, 112, 199, 99, 21, 8, 1, 2, 34, 56, 255,
    74, 123, 123, 77, 44, 0, 1, 23, 78, 92, 123, 124, 178, 77, 190, 234, 241, 2, 65, 55, 69, 92,
    112, 199, 99, 21, 8, 1, 2, 34, 56, 255, 74, 123, 123, 77, 44, 0, 1, 23, 78, 92, 123, 124, 178,
    77, 190, 234, 241, 2, 65, 55, 69, 92, 112, 199, 99, 21, 8, 1, 2, 34, 56, 255, 74, 123, 123, 77,
    44, 0, 1, 23, 78, 92, 123, 124, 178, 77, 190, 234, 241, 2, 65, 55, 69, 92, 112, 199, 99, 21, 8,
    1, 2, 34, 56, 255, 74, 123, 123, 77, 44, 0, 1, 23, 78, 92, 123, 124, 178, 77, 190, 234, 241, 2,
    65, 55, 69, 92, 112, 199, 99, 21, 8, 1, 2, 34, 56, 255, 74, 123, 123, 77, 44, 0, 1, 23, 78, 92,
    123, 124, 178, 77, 190, 234, 241, 2, 65, 55, 69, 92, 112, 199, 99, 21, 8, 1, 2, 34, 56, 255,
    74, 123, 123, 77, 44, 0, 1, 23, 78, 92, 123, 124, 178, 77, 190, 234, 241, 2, 65, 55, 69, 92,
    112, 199, 99, 21, 8, 1, 2, 34, 56, 255, 74, 123, 123, 77, 44, 0, 1, 23, 78, 92, 123, 124, 178,
    77, 190, 234, 241, 2, 65, 55, 69, 92, 112, 199, 99, 21, 8, 1, 2, 34, 56, 255, 74, 123, 123, 77,
    44, 0, 1, 23, 78, 92, 123, 124, 178, 77, 190, 234, 241, 2, 65, 55, 69, 92, 112, 199, 99, 21, 8,
    1, 2, 34, 56, 255, 74, 123, 123, 77, 44, 0, 1, 23, 78, 92, 123, 124, 178, 77, 190, 234, 241, 2,
    65, 55, 69, 92, 112, 199, 99, 21, 8, 1, 2, 34, 56, 255, 74, 123, 123, 77, 44, 0, 1, 23, 78, 92,
    123, 124, 178, 77, 190, 234, 241, 2, 65, 55, 69, 92, 112, 199, 99, 21, 8, 1, 2, 34, 56, 255,
    74, 123, 123, 77, 44, 0, 1, 23, 78, 92, 123, 124, 178, 77, 190, 234, 241, 2, 65, 55, 69, 92,
    112, 199, 99, 21, 8, 1, 2, 34, 56, 255, 74, 123, 123, 77, 44, 0, 1, 23, 78, 92, 123, 124, 178,
    77, 190, 234, 241, 2, 65, 55, 69, 92, 112, 199, 99, 21, 8, 1, 2, 34, 56, 255, 74, 123, 123, 77,
    44, 0, 1, 23, 78, 92, 123, 124, 178, 77, 190, 234, 241, 2, 65, 55, 69, 92, 112, 199, 99, 21, 8,
    1, 2, 34, 56, 255, 74, 123, 123, 77, 44, 0, 1, 23, 78, 92, 123, 124, 178, 77, 190, 234, 241, 2,
    65, 55, 69, 92, 112, 199, 99, 21, 8,
];

fn benchmark_create_inlined_min_50_shares_100_secret_512(c: &mut Criterion) {
    c.bench_function(
        "benchmark_create_inlined_min_50_shares_100_secret_512",
        |b| {
            b.iter(|| {
                let _ = create_inlined(50, 100, SECRET_512_BYTES);
            });
        },
    );
}

fn benchmark_combine_all_inlined_min_50_shares_100_secret_512(c: &mut Criterion) {
    c.bench_function(
        "benchmark_combine_all_inlined_min_50_shares_100_secret_512",
        |b| {
            let shares = create_inlined(50, 100, SECRET_512_BYTES).unwrap();
            b.iter(|| {
                let _ = combine_inlined(shares.clone());
            });
        },
    );
}

criterion_group!(
    benches,
    benchmark_create_inlined_min_50_shares_100_secret_512,
    benchmark_combine_all_inlined_min_50_shares_100_secret_512,
);
criterion_main!(benches);
